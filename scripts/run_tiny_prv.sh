export CUBLAS_WORKSPACE_CONFIG=:4096:8

local_path='./results/split_tiny_imagenet/test3'  # set your output path
dataset='splittinyimagenet'
setting='der'
data_path='./tiny_imagenet_from_DER'
buffer_size=500
alpha=4.0
beta=0.0
lr=2e-2
epochs=50
batch_size=32
mem_batch_size=32
use_cuda=1
opt_type='sgd'
seed=0
slt_wo_aug=0
holdout_set='sub'
replay_mode='sub'
use_bn=1
limit_per_task=5000
runner_type='coreset'
update_mode='coreset'
extra_data=''
ref_train_epoch=20
selection_steps=40
cur_train_steps=20
buffer_type='coreset'
aug_type='der'
ref_train_lr=3e-3
cur_train_lr=5e-3
ref_sample_per_task=200


python3 -u offline_continual_learning.py --local_path=$local_path \
	--dataset=$dataset \
	--setting=$setting \
	--data_path=$data_path \
	--buffer_size=$buffer_size \
	--alpha=$alpha \
	--beta=$beta \
	--lr=$lr \
	--epochs=$epochs \
	--batch_size=$batch_size \
	--mem_batch_size=$mem_batch_size \
	--use_cuda=$use_cuda \
	--opt_type=$opt_type \
	--seed=$seed \
	--slt_wo_aug=$slt_wo_aug \
	--holdout_set=$holdout_set \
	--replay_mode=$replay_mode \
	--use_bn=$use_bn \
	--limit_per_task=$limit_per_task \
	--runner_type=$runner_type \
	--update_mode=$update_mode \
	--extra_data=$extra_data \
	--ref_train_epoch=$ref_train_epoch \
	--selection_steps=$selection_steps \
	--cur_train_steps=$cur_train_steps \
	--ref_train_lr=$ref_train_lr \
	--cur_train_lr=$cur_train_lr \
	--buffer_type=$buffer_type \
	--ref_sample_per_task=$ref_sample_per_task \
	--aug_type=$aug_type
